<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Dashboard</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <script src="{{ url_for('static', filename='js/main.js') }}"></script>

</head>
<body class="bg-gray-100">

  <!-- Navbar -->
  <nav class="bg-blue-600 text-white p-4 flex flex-wrap items-center justify-between gap-3">
    <div class="flex items-center gap-2">
      <img src="/static/images/logo.jpeg" class="h-9 w-9 rounded-full object-cover" alt="logo">
      <h1 class="text-xl font-bold">Admin Dashboard</h1>
    </div>

    <div class="flex gap-2">
      <a href="/attendance_report" class="bg-white text-blue-600 px-3 py-1 rounded font-medium hover:bg-gray-100">View Reports</a>
      <a href="/logout" class="bg-white text-blue-600 px-3 py-1 rounded font-medium hover:bg-gray-100">Logout</a>
    </div>
  </nav>

  <!-- Main -->
  <main class="container mx-auto mt-6 px-4">

    <!-- Add Staff Form -->
    <form method="POST" action="/admin/add_staff" class="bg-white p-5 rounded-lg shadow">
      <h2 class="text-lg font-semibold mb-4">Add Staff</h2>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
        <input name="id" placeholder="Staff ID (optional)" class="border p-2 rounded w-full">
        <input name="name" placeholder="Name" class="border p-2 rounded w-full" required>
        <input name="phone" placeholder="Phone (+91...)" class="border p-2 rounded w-full" required>
        <input name="email" placeholder="Email" class="border p-2 rounded w-full" required>
        <input name="password" placeholder="Password" class="border p-2 rounded w-full">
      </div>

      <button class="mt-4 bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700">
        Add Staff
      </button>
    </form>

    <!-- Staff List Table -->
    <div class="bg-white p-5 mt-6 rounded-lg shadow">
      <h3 class="text-lg font-semibold mb-4">Staff List</h3>

      <!-- Responsive Table Wrapper -->
      <div class="overflow-x-auto">
        <table class="min-w-full text-center border">
          <thead class="bg-blue-600 text-white">
            <tr>
              <th class="p-2">ID</th>
              <th class="p-2">Name</th>
              <th class="p-2">Phone</th>
              <th class="p-2">Email</th>
              <th class="p-2">Action</th>
            </tr>
          </thead>
          <tbody>
            {% for u in users %}
            <tr class="border hover:bg-gray-100">
              <td class="p-2">{{ u.id }}</td>
              <td class="p-2">{{ u.name }}</td>
              <td class="p-2">{{ u.phone }}</td>
              <td class="p-2">{{ u.email }}</td>
              <td class="p-2">
                <form method="POST" action="/admin/delete_staff/{{ u.id }}">
                  <button class="bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700">Delete</button>
                </form>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

    </div>
  </main>
</body>
</html>
